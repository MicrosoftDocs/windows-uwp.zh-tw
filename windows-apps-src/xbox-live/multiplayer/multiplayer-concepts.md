---
title: Xbox Live 多人遊戲的概念
description: 深入了解 Xbox Live 的多人遊戲系統所使用的一般多人遊戲概念。
ms.assetid: 1e765f19-1530-4464-b5cf-b00259807fd3
ms.date: 08/25/2017
ms.topic: article
keywords: xbox live、 xbox、 遊戲、 uwp、 windows 10，其中一個 xbox、 多人遊戲
ms.localizationpriority: medium
ms.openlocfilehash: 0e2ba32b2eaff757cfa6401952567f6b0163f632
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/06/2019
ms.locfileid: "57623793"
---
# <a name="xbox-live-multiplayer-concepts"></a>Xbox Live 多人遊戲的概念

本主題會討論一些重要的多人遊戲詞彙和概念，常用的 Xbox Live 的文件中。 需要掌握這些概念將協助您了解 Xbox Live 多人遊戲的運作方式。

## <a name="multiplayer-session"></a>多人連線的工作階段

多人連線的工作階段代表 Xbox Live 使用者和與其相關聯的屬性的群組。 工作階段是由建立及維護標題，並表示為安全的 JSON 文件位於 Xbox Live 的雲端。 工作階段的文件本身包含連線的工作階段中，然後再多少點是可用的自訂中繼資料 （適用於工作階段以及與每個工作階段的成員），到 Xbox Live 使用者的相關資訊，並與遊戲的工作階段相關的其他資訊。

每個工作階段為基礎的工作階段範本，讓遊戲開發人員所定義，並設定在 Xbox Live 服務標題執行個體的組態。

雖然標題可以建立和更新工作階段，它無法直接刪除工作階段。  相反地，一旦從工作階段中移除所有的玩家，Xbox Live 的多人遊戲服務將自動刪除指定的逾時之後的工作階段。 如需工作階段的詳細資訊，請參閱[MPSD 工作階段詳細資料](multiplayer-appendix/mpsd-session-details.md)。

標題可以選擇使用多個工作階段，但典型的多人遊戲實作會使用兩個工作階段：

* 大廳工作階段-這是代表一組朋友想要在多個回合、 層級、 對應、 等，遊戲的同時維持工作階段。
* 遊戲的工作階段-這是代表所播放的遊戲，例如循、 相符項目、 層級等特定工作階段執行個體中的人員的工作階段。此工作階段可以包含已加入工作階段執行個體放在一起，通常透過配對服務的多個大廳工作階段中的成員。

以下是範例案例：Sally 想玩多人遊戲與她的朋友，John 和 Lisa。 Sally 啟動遊戲時，並邀請 John 和 Lisa 至她的遊戲。 在加入之後，Sally、 John 與 Lisa 全都放在是大廳工作階段。 在這個課程中，決定要在線上與其他人的相符項目中播放。 遊戲建立遊戲的工作階段中，並使用 Xbox Live 配對服務來填滿剩餘的玩家資料，與其他 Xbox Live 的玩家。

假設 Bob 和 Joe 會比對，而其中五個一起玩循。 圓角結束之後，Sally、 John 與 Lisa 離開遊戲工作階段中，，但仍在一起位於大廳工作階段 （不含 Bob 和 Joe），而且可以選擇播放 round、 另一個，或切換至不同的遊戲模式。

### <a name="session-member"></a>工作階段的成員

工作階段成員是在 Xbox Live 的使用者工作階段的一部分。

### <a name="arbiter"></a>仲裁程式

仲裁程式是主控台或管理遊戲的工作階段狀態的裝置。 比方說，仲裁者會負責以找出更多玩家廣告配對遊戲工作階段。

項目所設定的仲裁程式。 它可能是主機的遊戲時，相同，但不一定要相同。

### <a name="session-host"></a>工作階段主機

工作階段主機主控台或是執行遊戲的裝置播放模擬以主機為基礎的端對端網路架構為基礎的項目。 此主控台或裝置通常是仲裁程式，相同，但它不一定要相同。

## <a name="multiplayer-service-session-directory"></a>多人遊戲服務工作階段目錄

Xbox Live 多人遊戲服務 Xbox Live 定域機組中運作，並跨多個用戶端集中遊戲的多人連線的系統中繼資料。 系統會追蹤此中繼資料，稱為多人遊戲工作階段目錄或 MPSD 簡稱。 您可以將 MPSD 為作用中的遊戲工作階段的程式庫。 您的遊戲可以新增、 搜尋、 修改或移除作用中工作階段與您的標題。 MPSD 也管理工作階段狀態，並更新工作階段時所需。

MPSD 允許共用連線的使用者群組所需的基本資訊的標題。 它可確保工作階段功能，是已同步處理且一致。 它會協調使用 shell 和 Xbox One 主控台作業系統和玩家卡透過聯結中傳送/接受邀請。

### <a name="session-handles"></a>工作階段控制代碼

工作階段是以唯一識別 MPSD 中的資料片段的組合：

* 服務組態識別碼 (SCID) 的標題
* 用來建立工作階段的工作階段範本名稱
* 工作階段的名稱

工作階段控制代碼是 JSON 物件，包含存在於 MPSD 的特定工作階段的參考。 工作階段控制代碼可讓 Xbox Live 的成員，以加入現有的工作階段。

每個工作階段控制代碼會包含可唯一識別此控制代碼，可使用單一的 guid 來參考工作階段的項目 guid。

有數種類型的工作階段控制代碼：

* 邀請控制代碼
* 搜尋控制代碼
* 活動的控制代碼
* 相互關聯控制代碼
* 傳輸控制代碼

#### <a name="invite-handle"></a>邀請控制代碼

邀請控制代碼會傳遞至成員中，當他們受邀加入遊戲。 邀請控制代碼會包含可讓受邀的成員的遊戲加入正確的工作階段的資訊。

#### <a name="search-handle"></a>搜尋控制代碼

搜尋控制代碼會包含工作階段中，相關的其他中繼資料，並允許搜尋符合所選的準則的工作階段的標題。

#### <a name="activity-handle"></a>活動的控制代碼

活動控制代碼可讓成員查看其社交網路上的其他成員會播放，並可以用加入朋友的遊戲。

#### <a name="correlation-handle"></a>相互關聯控制代碼

相互關聯控制代碼有效地適用於做為別名的工作階段，可讓遊戲，只使用相互關聯控制代碼的識別碼來參考工作階段。

### <a name="transfer-handle"></a>傳輸控制代碼

傳輸控制代碼用來將播放程式從一個工作階段移至另一個工作階段。

### <a name="invites"></a>邀請

Xbox Live 提供邀請系統所支援的多人遊戲服務。 它可讓玩家以邀請其他玩家以其遊戲工作階段。 受邀的播放程式收到遊戲的邀請與標題會使用此資訊來加入現有的工作階段和多人遊戲體驗。 項目控制邀請流程，以及何時可以傳送邀請。

可以透過殼層傳送邀請，由使用者，或直接從標題。 邀請的通知文字可以動態設定項目所提供給受邀的播放器的詳細資訊。 邀請也可以包含額外的資料，看不到播放程式的標題，而且可用來執行的其他資訊。

### <a name="join-in-progress"></a>加入進行中

除了邀請，Xbox Live 也會提供加入朋友的作用中的遊戲工作階段的播放程式或其他已知的玩家的殼層選項。 這讓使用中的遊戲工作階段的另一個路徑，並也由 MPSD。 標題會控制工作階段時聯結和公開供加入進行中工作階段。

### <a name="protocol-activation"></a>通訊協定啟用

如果 Sally 會傳送邀請給 Lisa 加入她的遊戲，Lisa 會收到通知，她可以選擇接受或拒絕其裝置上。

如果她接受邀請時，作業系統會嘗試啟動遊戲時，如果遊戲已在執行，並不包含相關的資訊，為什麼遊戲已啟用，啟用事件觸發程序和任何其他詳細資料 (如果邀請，比方說，詳細資料包括受邀，以及該成員已受邀的工作階段的播放程式識別碼）。

處理此事件的處理程序稱為通訊協定啟動，並指出遊戲應該會自動進入特定狀態，有詳細的啟用事件引數。 如果成員聯結多人遊戲，工作階段控制代碼識別碼會指定為其中一個引數。

在 Lisa 的情況下，接受邀請應該自動開始遊戲 （如有需要），並將她加入相同的遊戲工作階段為莎莉，而不需要採取任何進一步動作的 Lisa。

通訊協定啟用可以觸發接受邀請，加入另一個成員的玩家透過他們的設定檔卡，或按一下深層連結的成就。

## <a name="smartmatch-matchmaking"></a>SmartMatch 配對

SmartMatch 是匿名的配對的 Xbox Live 服務的名稱。 這項服務個比對的可設定為基礎的同一個遊戲玩家的比對規則集。

配對服務與 MPSD 密切合作，並使用配對的輸入和輸出工作階段。 配對會在服務上，可輕鬆地提供其他的體驗期間配對流程，例如單人標題內的項目。

個人或群組，想要輸入配對建立比對的票證工作階段，然後要求配對服務，來尋找要與其相符項目所設定的其他播放程式。 這會導致建立暫存檔 」 比對票證 」 位於配對上的服務 （比對 hopper) 內的一段時間。

配對服務選擇播放工作階段一起根據規則設定中，儲存以供每個玩家和比對要求的時間在指定的任何其他資訊的統計資料。 服務接著會建立包含所有球員都符合，並通知使用者的項目比對的比對目標工作階段。

備妥的目標工作階段時，標題就可能會執行服務 (QoS) 會檢查以確認，群組可以放在一起，播放和/或加入工作階段的開始遊戲玩家的品質。 QoS 程序和 matchmade 遊戲時發生，標題保持最新狀態內 MPSD，工作階段狀態，它們接收通知 MPSD 從變更的相關工作階段。 這類變更包括加入或離開的使用者，並變更為工作階段仲裁程式。

### <a name="match-ticket-session"></a>符合票證工作階段

比對的票證工作階段代表想要讓比對的球員的用戶端。 它通常會根據一組在一起，位於大廳的球員或播放程式的其他特定標題的群組。 在某些情況下，票證工作階段可能已經在進行尋找的更多玩家遊戲工作階段。

### <a name="match-ticket"></a>符合票證

提交配對的票證工作階段會產生相符項目票證，以追蹤配對嘗試建立。 屬性可以將該票證，比方說，遊戲的對應或播放程式層級。 這些項目以及票證工作階段中，播放程式的屬性用來判斷相符項目。

### <a name="hoppers"></a>Hoppers

Hoppers 會比對的票證會收集及配對的開頭指定的邏輯位置。 只有相同 hopper 內的票證可以比對。 標題可以有多個 hoppers，但在上一次只能啟動配對。 例如，標題可能會建立一個 hopper 技能的播放程式是最重要的項目進行比對。 它可能會使用另一個 hopper 中播放器只表示相符購買相同可下載的內容。

您可以設定配對的 hoppers 服務組態中。 TBD。

## <a name="quality-of-service-qos"></a>服務品質 (QoS)

當玩家玩線上多人遊戲時，遊戲的品質會影響裝載遊戲的裝置之間的網路通訊的品質。 不佳的網路可能會導致非預期的遊戲體驗像延遲或連線卸除因為沒有足夠的頻寬或延遲。

QoS 指的是測量播放程式，以確保所有的玩家有足夠的網路連線品質之間的連線 （頻寬和延遲） 的強度。 這是對於播放程式會比對期間配對，以確保良好的體驗，因為 net 特別重要。 它是連線的較適用於邀請朋友一起玩，而且通常願意接受不佳的結果。

您可以設定要處理會自動根據特定準則，QoS 的工作階段，或您的遊戲可以處理測量 QoS，每當任何人都加入工作階段。
