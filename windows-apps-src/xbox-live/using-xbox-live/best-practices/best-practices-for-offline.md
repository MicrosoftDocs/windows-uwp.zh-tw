---
title: 離線最佳做法
description: 深入了解處理離線的情況下，使用 Xbox Live 啟用標題的最佳作法。
ms.assetid: 6290dd67-1145-4fe2-8ada-c3a29a9ad29a
ms.date: 04/04/2017
ms.topic: article
keywords: xbox live、 xbox、 遊戲、 uwp、 windows 10、 xbox，離線
ms.localizationpriority: medium
ms.openlocfilehash: 5680b045873ebf6eed1422cb915f3f53df748790
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/06/2019
ms.locfileid: "57618723"
---
# <a name="best-practices-for-offline"></a>離線最佳做法

Xbox One 旨在做為連接的裝置，而且最佳的體驗，例如多人遊戲和視訊資料流，需要連線能力。 不過，Xbox One 支援許多形式的離線播放。 本主題討論如何處理離線播放。

## <a name="overview"></a>概觀

不斷成長的取用者數目世界各地有網際網路存取權。 不過，有仍連線將會無法預測，而有些的時候，當路由器失敗 fiber 世界中的位置剪下、 伺服器當機，或卸除的無線服務。

若要支援廣泛的一組取用者和體驗，Xbox One 允許網際網路連線會不時遺失或完全無法使用的是常見的情況。 您的遊戲通知的連線失敗，您可自行選擇如何回應 — 是否可繼續完整的遊戲，降級至離線模式中，或完全結束遊戲。

## <a name="normal-online-operation"></a>一般的線上作業

一般情況下，Xbox One 主控台會在完全連線的狀態，使用者具有穩定的網際網路連線和完整存取 Xbox Live 和第三方服務中運作。 此連線的狀態可讓 Xbox Live 服務會定期驗證主控台的狀態，以提供更新，並執行您的遊戲和使用者中獲益的其他背景服務。

我們建議，您就會假設使用者有線上連線大部分的時間。

## <a name="offline-play-principles"></a>離線播放原則

有線上連線無法使用的情況。 針對離線播放、 Xbox One 的設計與下列記住原則：

-   最重要的是，讓播放儘管有連線問題的使用者。

-   讓使用者播放，即使它們完全沒有連線。

-   進行離線播放簡單且可預測的使用者，同時仍可保有的精神永遠連線體驗。

## <a name="offline-modes"></a>離線模式

有兩個高階*的連線中斷*案例：

-   完全遺失的網際網路服務

-   一或多個線上服務的遺失。

在每一種模式中，有各種可能發生的情況。 這些是下面說明影響遊戲的常見離線案例的範例。

## <a name="offline-scenario-no-internet-service-upon-game-start"></a>離線案例： 在遊戲啟動時沒有網際網路服務

遊戲可以宣告本身為三種類型之一：

-   *Xbox Live 需要*： 所有模式的遊戲都需要網際網路連線。

-   *Xbox Live 金會員所需*： 所有模式的遊戲都需要網際網路連線和 Xbox Live 金會員的成員資格。

-   *不需要的 Xbox Live*： 遊戲的至少其中一種模式不需要網際網路連線的播放。 技術上來說，這個型別未明確宣告的應用程式資訊清單中。 不會宣告本身為前兩個類型的其中一個會被視為 「 不是必要的 Xbox Live"的應用程式或離線支援。

當遊戲由使用者啟動，且主控台為離線時，系統會檢查應用程式資訊清單中的遊戲連線宣告。 如果遊戲需要 （無論是上述前兩個情況下） 的連線，系統會自動向使用者顯示一則訊息，並不會啟動標題。

如果主控台已離線，系統才會啟動並不需要連線的播放的至少一種模式的項目。 換句話說，系統將不會啟動"Xbox Live 需要 「 或 」 所需的 Xbox Live 金級 」 的標題。

## <a name="offline-scenario-connectivity-lost-during-gameplay"></a>離線案例： 連線已中斷期間的遊戲

如果已在連線遺失時，會執行遊戲，系統將會收到通知的標題。 如果遊戲不使用線上服務，繼續執行而不中斷工作階段。 遊戲正在使用線上服務，請切換模式，以不再需要這些服務，或通知玩家遊戲工作階段結束時因為離線的狀態。

「 所需的 Xbox Live 」 或 「 所需的 Xbox Live 金級 」 將會自動暫停系統時，主控台將會遺失所有的網路連線一段時間，與系統宣告的項目將會自動提供一則錯誤訊息給使用者。

為任何其他案例涉及遊戲暫止，您應該儲存狀態，以便使用者不會遺失資料，並可以快速地傳回給該狀態之後以重新取得連線。

## <a name="offline-scenario-when-a-single-xbox-live-service-is-down"></a>離線案例： 單一的 Xbox Live 服務已關閉

有其他所在中特定的線上服務可能無法使用，即使是正常的網際網路連線的情況。

例如，單一的 Xbox Live 服務無法處於離線狀態一段時間。 在此情況下，對特定呼叫服務將會逾時或在遊戲中報告錯誤。 就像您處理這些情況下，在 Xbox 360 或 Windows 上，您應該適當地處理離線服務狀態。

最少，遊戲必須不會當機或停止回應。 如果遊戲無法繼續而不需服務，然後將情況回報給使用者，並允許使用者在遊戲的另一個區域中，服務不需要繼續進行。

在最好的情況下，繼續遊戲和快取資料，以供稍後傳送 （如果有遊戲已寫入服務） 或 （如果有遊戲已讀取從服務） 進行資料的合理假設。

## <a name="offline-scenario-when-a-third-party-service-is-down"></a>離線案例： 第三方服務已關閉

如果您的遊戲會依賴協力廠商的線上服務，然後您的遊戲也必須具有恢復功能，如果該服務就會失敗。 如果服務失敗，則您的遊戲必須不會當機或停止回應。 如果遊戲無法繼續，您可能會向使用者回報服務錯誤。 在理想情況下，遊戲應該繼續，或您應該允許使用者繼續的遊戲，並不需要線上服務的區域。

## <a name="offline-scenario-when-xbox-live-cloud-compute-is-down"></a>離線案例： Xbox Live 的雲端計算已關閉

Xbox One 展示的其中一個是雲端威力。 某些遊戲可以完全仰賴一律已連線的服務，包括 Xbox Live 雲端運算、 可存取額外的計算功能或隨時可用的遊戲伺服器。 此模式中永遠連線已允許和建議，以增強玩家的體驗。

如果您的遊戲會使用此模式中，則我們建議您的遊戲，能夠服務中斷 （的多個秒及最多一分鐘），是花在網際網路連線可能是完全遺失或無法使用特定的雲端服務。 不過，遊戲不是需要有離線模式。 如果遊戲真正需要的連線，連線不提供，然後通知使用者，並結束遊戲工作階段。

## <a name="xbox-requirements"></a>Xbox 需求

處理離線案例時，最重要的需求是遊戲的穩定性。 無論是完整的連線中斷或特定的線上服務遺失，您的遊戲必須不停止回應、 當機，或導致使用者遺失狀態。 您的遊戲必須強固的系統，對於處理網路逾時的案例，並處理任何 API 所傳回的錯誤，用來存取線上服務。

不需要支援離線播放遊戲。 如果只是您的遊戲無法繼續因為服務連線的中斷，通知使用者，結束遊戲工作階段，然後返回主功能表或初始互動的狀態。

## <a name="best-practices"></a>最佳作法

以下是離線的情況下處理的最佳做法：

-   設計遊戲，假設使用者有線上連線大部分的時間。

-   如果它適合您的遊戲設計，請考慮設計的遊戲模式，可讓使用者具有愉悅的經驗，即使主控台會處於離線狀態。

-   服務可能會無法使用。 連線可能會失敗。 建置強固的錯誤處理的 Api，可以等候逾時，或報表失敗狀況時的線上服務已關閉或網際網路連線時遺失。 您應該盡可能保持播放儘管有這些問題的使用者。

-   遵循 Xbox 需求 (XRs)。 不會停止回應或損毀。

-   收到 PLM 標題暫止通知之後，請儲存狀態，以便使用者不會遺失資料，並能夠快速返回該狀態時繼續遊戲。

-   您的標題，適當地在應用程式資訊清單中的旗標。 只將標示標題為 「 所需的 Xbox Live 」 如果所有模式的遊戲都需要連線。

-   Xbox One 遊戲都可以使用，並依賴線上服務中所有的遊戲模式而定。 如果只是遊戲無法繼續因為服務連線的中斷，通知使用者，結束遊戲工作階段，然後返回主功能表或初始互動的狀態。

-   請勿依賴 Xbox 說明服務的錯誤訊息，並協助與離線狀態。 Xbox 說明服務需要連到 Xbox Live。

## <a name="conclusion"></a>結論

Xbox One 專為永遠連線的世界裡。 不過，該願景的方式，在主控台可讓玩家能享受離線案例。 遊戲必須是強固連線失敗。 適用於遊戲離線播放體驗，可讓您的玩家以享受這些體驗，以發揮最大。 適用於遺失網路連線時，會一律線上的遊戲，依正常程序傳回使用者為離線狀態。
