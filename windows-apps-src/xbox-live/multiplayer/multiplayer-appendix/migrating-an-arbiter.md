---
title: 移轉仲裁程式
description: 了解如何移轉在 Xbox Live 的多人遊戲 2015年仲裁程式
ms.assetid: 9fb5d2c0-d548-4a22-b64e-6b215f78d22e
ms.date: 04/04/2017
ms.topic: article
keywords: xbox live、 xbox、 遊戲、 uwp、 windows 10，其中一個 xbox、 仲裁程式、 多人遊戲 2015
ms.localizationpriority: medium
ms.openlocfilehash: 7e250841fb0731a903c0e9c5bdeeecd42f07ac84
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/06/2019
ms.locfileid: "57629703"
---
# <a name="migrating-an-arbiter"></a>移轉仲裁程式

在完成的工作階段期間某個時間點，您可能需要選取新的仲裁程式，使用仲裁程式移轉。 有兩種移轉類型：

-   **非失誤性的仲裁程式移轉**
-   **容錯移轉仲裁程式移轉**

下列流程圖說明如何移轉仲裁程式。

![](../../images/multiplayer/Multiplayer_2015_HostMigration.png)

## <a name="graceful-arbiter-migration"></a>非失誤性的仲裁程式移轉

在正常的仲裁程式移轉外寄的仲裁程式可以協助移轉工作，並判斷新的仲裁程式。 此類型移轉使用仲裁程式的設定，如中所述[How to:MPSD 工作階段設定仲裁程式](multiplayer-how-tos.md)。


## <a name="failover-arbiter-migration"></a>容錯移轉仲裁程式移轉

在容錯移轉仲裁程式移轉時，先前的仲裁程式的連線已中斷，並在其餘的對等體必須決定新的仲裁程式工作階段。 容錯移轉仲裁程式移轉也會設定主機裝置權杖，並會在處理 HTTP/412 狀態碼，就像正常的仲裁程式移轉並。 不過，有多種方法，讓容錯移轉仲裁程式移轉過程中選取新的仲裁程式。
## <a name="select-arbiter-using-the-host-candidate-list"></a>選取 使用主機候選項目清單的仲裁程式

您可以設定 MPSD 提供配對會測量特定的作業期間的 QoS 計量為基礎的已排序的主機候選項目清單。 用戶端可以使用這份清單，以判斷新的仲裁程式。 若要利用這份清單的仲裁程式移轉期間，每個對等可以：

1.  識別前一個仲裁程式的清單位置。
2.  評估 [下一步] 的主控台，在清單中。
3.  如果本機主控台的主控台，請使用它作為新仲裁程式。
4.  如果主控台已不存在多人遊戲工作階段中，或從其對等體已中斷連線，移至下一步 清單中的候選項目，並如先前步驟所示進行評估。
5.  如果使用選取的任何新仲裁程式到達清單結尾，使用 greedy （窮盡） 方法來仲裁程式選取項目，可能會中斷連線。 請參閱 「 使用 greedy （窮盡） 仲裁程式選取 」。

| 注意                                                                                                                                                                                                                                                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 不建議建立主機候選項目清單中的遊戲配對之後透過明確的標題在 QoS 探查。 如果這項機制是絕對必要，有您的用戶端而不是使用者資訊，例如，Xbox 使用者識別碼，使用主機裝置權杖，來判斷仲裁程式候選項目。 |


### <a name="select-arbiter-using-peer-voting"></a>選取 使用投票的對等的仲裁程式

如果所有對等之間有完整的連線，它們可以使用對等訊息來進行投票，並選取新的仲裁程式。 新的仲裁程式接著會更新使用已同步處理的更新的工作階段主機裝置權杖。 請參閱[How to:更新多人連線的工作階段](multiplayer-how-tos.md)。


### <a name="use-greedy-arbiter-selection"></a>使用 greedy （窮盡） 仲裁程式選取項目

有時不會提供任何主機候選項目清單，或連線 QoS 不需要例如，純仲裁程式責任。 在這些情況下，您的用戶端可以使用 greedy （窮盡） 仲裁程式選取項目方法。 在此情況下，對等電腦應該設定新的仲裁程式只要它偵測到原始的仲裁程式已離開遊戲工作階段中，所回報**MultiplayerSessionChanged**事件。 所有其他對等的 HTTP/412 狀態碼時看到嘗試設定主機裝置權杖，假設沒有其他工作階段的變更在此時。 只有一個對等互連成功地選取新的仲裁程式。


## <a name="see-also"></a>請參閱

[MPSD 工作階段詳細資料](mpsd-session-details.md)
