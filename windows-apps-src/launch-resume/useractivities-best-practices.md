---
title: 使用者活動最佳做法
description: 本指南概要說明建立和更新使用者活動的建議的作法。
keywords: user activity, user activities, timeline, cortana pick up where you left off, cortana pick up where i left off, project rome, 使用者活動, 時間軸, cortana 從先前離開的地方開始, cortana 接續未完成的部分, project rome
ms.date: 08/23/2018
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: e98f5d73cf2d1afb26a823ed417c8980d118485c
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/06/2019
ms.locfileid: "57589903"
---
# <a name="user-activities-best-practices"></a>使用者活動最佳做法

本指南概要說明建立和更新使用者活動的建議的作法。 如需在 Windows 上的使用者活動功能的概觀，請參閱 <<c0> [ 繼續使用者活動，甚至可跨裝置](https://docs.microsoft.com/windows/uwp/launch-resume/useractivities)。 或者，請參閱[使用者的活動區段](https://docs.microsoft.com/windows/project-rome/user-activities/)的 Project Rome 其他開發平台上實作的活動。

## <a name="when-to-create-or-update-user-activities"></a>建立或更新使用者活動的時機

因為每個應用程式都不同，它是由每個開發人員決定將應用程式內的動作對應到使用者活動的最佳方式。 Cortana 和時間表，將焦點放在增加使用者的產能和效率，以提升他們回到客戶造訪過的內容中，將展示您的使用者活動。

**一般指導方針**

* **記錄一組相關的使用者動作的單一活動。** 這是攸關音樂的播放清單或電視節目： 單一活動可以定期執行以反映使用者的進度更新。 在此情況下，您必須使用多個記錄項目表示的 engagement 跨多天或數週的單一使用者活動。 這同樣適用於文件為基礎的活動，在其的使用者進行漸進式應用程式內的進度。
* **在雲端中儲存使用者資料。** 如果您想要支援跨裝置的活動，您必須確定重新參與此活動所需的內容會儲存到雲端的位置。 裝置的特定活動會出現在時間表上在裝置上建立此活動，但可能不會出現在其他裝置上。
* **請勿建立活動的使用者不需要繼續執行的動作。** 如果您的應用程式來完成不會保存狀態的簡單的一次性作業，可能不需要建立使用者活動。
* **請勿建立其他使用者所完成的動作的活動。** 如果外部帳戶的使用者會將訊息傳送或@-mentions它們在您的應用程式中，您不應建立活動這個。 這種類型的動作會進一步提供的重要訊息中心通知。
  * 共同作業案例為例外狀況：如果多個使用者正在使用相同的活動在一起 （例如 Word 文件），則會在其中另一位使用者已在您的使用者之後做出變更的情況。 在此情況下，您可能想要更新現有的活動，以反映文件所做的變更。 這會牽涉到更新現有的使用者活動內容的資料，而不需要建立新的歷程記錄項目。

**特定類型的應用程式的指導方針**

雖然每個應用程式都不同，大部分的應用程式都屬於下列互動模式的其中一個。
* **文件為基礎的應用程式**— 使用反映的使用期間的一個或多個記錄項目建立文件中，每一個活動。 請務必更新您的活動，如文件進行變更。
* **遊戲**— 建立針對每個遊戲的儲存或世界的一個活動。 如果您的遊戲支援單一序列的層級，您可以重新發行相同的活動一段時間，雖然您可能想要更新內容的資料，以顯示最新的進度或成就。
* **公用程式的應用程式**— 如果沒有任何使用者都必須保留並繼續執行應用程式內，您不需要使用使用者活動。 簡單的應用程式，例如計算機是一個很好的例子。
* **特定業務應用程式**— 管理簡單的工作流程的許多應用程式存在。 建立一個活動，以便透過您的應用程式存取每個個別工作流程 （比方說，經費支出報表會每個是不同的活動，以便使用者可以按一下來查看特定的報表是否已核准的活動）。
* **媒體播放應用程式**— 建立一個活動，每個邏輯群組的內容 （例如播放清單、 程式或獨立的內容）。 應用程式開發人員的基礎問題時是否內容 （電視影集、 歌曲） 的每個部分都會被視為獨立內容或集合的一部分。 一般而言，如果使用者選擇要播放的集合或循序的內容，整個集合都是 「 活動 」。 如果他們選擇播放一段內容，該內容的一段是活動。 請參閱以下更具體的指導方針。
  * **音樂：專輯/演出者/Genre** -如果使用者選取的專輯、 演出者或內容類型和點擊**播放**，該集合會是活動，不會寫入每一首歌的個別活動。 簡短的集合，例如單張專輯或播放以隨機順序的集合，您可能不需要更新以反映使用者的目前位置的活動。 對於例如專輯或播放清單的長時間連續播放，錄製您專輯內的位置可能會具有意義。
  * **音樂： 智慧播放清單**— 以隨機順序播放音樂的應用程式應該記錄該播放清單的單一活動。 如果使用者在第二次時，都會播放播放清單，您會建立其他記錄相同的活動。 記錄使用者的播放清單中的目前位置不需要因為順序是隨機的。
  * **電視影集**— 如果您的應用程式設定為播放下一集中，目前已完成之後，您應該撰寫的電視影集的單一活動。 當您播放各種劇集跨多個檢視工作階段時，您要更新您的活動，以反映在系列中，目前的位置，並建立多個歷程記錄。
  * **影片**— 電影是單一的一種內容，且應該有其本身的歷程記錄。 如果使用者停止觀賞電影中途，最好記錄其位置。 當他們想要繼續此執行個體在未來時，活動無法繼續的地方、 電影或甚至是要求使用者是否他們想要繼續，或開頭開始。

## <a name="user-activity-design"></a>使用者活動的設計

使用者活動是由三個元件所組成： 啟用 URI、 視覺化資料和內容的中繼資料。
* 啟用 URI 是可以傳遞至應用程式或經驗才能繼續執行應用程式使用特定內容的 URI。 一般而言，這些連結形式的配置 (例如，"my-app://page2?action=edit") 的通訊協定處理常式。 它是由開發人員判斷其應用程式如何處理 URI 參數。 請參閱[處理 URI 啟用](https://docs.microsoft.com/windows/uwp/launch-resume/handle-uri-activation)如需詳細資訊。
* 視覺化資料，其中包含一組必要和選擇性的屬性 (例如： 標題、 描述或自適性卡片項目)，讓使用者以視覺方式識別活動。 如需有關建立自適性卡片視覺效果，為您的活動的指導方針，請參閱下方內容。
* 內容的中繼資料是可用來分組，並擷取特定的內容下的活動的 JSON 資料。 一般而言，這會採用的格式 http://schema.org資料。 如需在填妥這項資料的指導方針，請參閱下方內容。

### <a name="adaptive-card-design-guidelines"></a>自適性卡片設計指導方針

當活動出現在時間軸時，它們會顯示使用[自適性卡片 framework](https://docs.microsoft.com/adaptive-cards/)。 如果開發人員未提供自適性卡片，每個活動，時間軸會自動建立簡單的卡片，根據應用程式名稱/圖示、 必要的 [標題] 欄位中和選擇性 [描述] 欄位。 

應用程式開發人員都能夠使用簡單的自適性卡片 JSON 結構描述的自訂卡片。 請參閱[自適性卡片文件](https://docs.microsoft.com/adaptive-cards/authoring-cards/getting-started)如需有關如何建構自適性卡片物件的技術指示。 請參閱以下的指導方針，來設計使用者活動中的自適性卡片。
* 使用映像
  * 盡可能針對每個活動中，使用唯一的映像。 您的應用程式名稱和圖示會自動顯示您的活動的卡片旁邊其他映像可協助使用者找出所需的活動。
  * 映像不應包含文字，使用者應該在讀取。 這段文字，以協助工具需求的使用者無法使用，並無法搜尋。
  * 如果映像不包含文字，而且可以進行剪裁以 2:1 比率有關，您應該使用它做為背景影像。 這會導致將展露頭角時間軸中的粗體活動卡片。 映像會暗化稍微以確保文字仍會顯示在卡片上，也鼓勵您只使用活動名稱在此情況下，因為較小的文字可能會變得難以閱讀。
  * 如果無法裁剪影像，為 2:1，您應該將它放活動卡片內。  
    * 如果外觀比例是方形、 直向，錨定的無邊界的卡方映像。
    * 如果外觀比例為橫向，錨定至卡片的右上角的映像。
* 每個活動，才能提供活動名稱，也一律會顯示。
  * 此名稱應該會顯示使用大型的粗體文字選項卡片的左上角。 很重要，因為這是唯一名稱是易於辨識，部分使用者會看到活動時顯示在 Cortana 案例中。 時間軸中顯示相同的名稱，讓使用者更輕鬆地瀏覽大量的活動。
* 使用相同的視覺化樣式所有的活動，從您的應用程式，讓使用者可以輕鬆地找到您的應用程式活動時間軸中。
  * 比方說，活動應該全部使用相同的背景色彩。
* 盡量不要使用補充文字資訊。 
  * 避免卡片填入文字，而且只會使用補充資訊，協助使用者尋找正確的活動，或反映狀態資訊 （例如在特定工作的目前進度）。

### <a name="content-metadata-guidelines"></a>內容的中繼資料的指導方針

使用者活動也可以包含 Windows 和 Cortana 使用分類活動，並產生推斷的內容中繼資料。 然後可以將活動分組解決特定的主題，例如位置 （如果使用者研究休假）、 物件 （如果使用者研究的項目） 或動作，（如果使用者跨不同的應用程式和網站購買特定產品）。 它是個不錯的主意，來代表名詞和動詞參與活動的。 

在下列範例中，內容的中繼資料 JSON，遵循標準[Schema.org](https://schema.org/)，代表案例：「 John 會播放生氣鳥與 Steve"。

```json
// John played angry birds with Steve.
{
  "@context": "http://schema.org",
  "@type": "PlayAction",
  "agent": {
    "@type": "Person",
    "name": "John"
  },
  "object": {
    "@type": "MobileApplication",
    "name": "Angry Birds."
  },
  "participant": {
    "@type": "Person",
    "name": "Steve"
  }
}
```

## <a name="key-apis"></a>重要 API

* [UserActivities 命名空間](https://docs.microsoft.com/uwp/api/windows.applicationmodel.useractivities)

## <a name="related-topics"></a>相關主題

* [使用者活動 （Project Rome 文件）](https://docs.microsoft.com/windows/project-rome/user-activities/)
* [自適性卡片](https://docs.microsoft.com/adaptive-cards/)
* [自適性卡片視覺化檢視範例](https://adaptivecards.io/)
* [處理啟動 URI](https://docs.microsoft.com/windows/uwp/launch-resume/handle-uri-activation)
* [與您在任何平台上使用 Microsoft Graph、 活動摘要，以及自適性卡片上的客戶](https://channel9.msdn.com/Events/Connect/2017/B111)
* [Microsoft Graph](https://developer.microsoft.com/graph/)
