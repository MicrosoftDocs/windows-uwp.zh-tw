---
author: mtoepke
title: 適用於 DirectX 遊戲的 2D 圖形
description: 我們將討論 2D 點陣圖圖形和效果的用法，以及如何在遊戲中使用它們。
ms.assetid: ad69e680-d709-83d7-4a4c-7bbfe0766bc7
ms.author: mtoepke
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, UWP, 遊戲, DirectX, 2d, 圖形
ms.localizationpriority: medium
ms.openlocfilehash: 8628588cdc20179e9505e45694d43788eb1d7cb6
ms.sourcegitcommit: 086001cffaf436e6e4324761d59bcc5e598c15ea
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/27/2018
ms.locfileid: "5687030"
---
# <a name="2d-graphics-for-directx-games"></a>適用於 DirectX 遊戲的 2D 圖形



我們要討論 2D 點陣圖圖形和效果的使用，以及如何在遊戲中使用 2D 圖形。

2D 圖形是 3D 圖形的子集，可處理 2D 基本類型或點陣圖。 較普遍的說法是，2D 圖形不使用 3D 遊戲中會使用的 z 座標，因為遊戲通常是限定在 x-y 平面上。 它們偶爾會使用 3D 圖形技術來建立自己的視覺元件，而且它們的開發通常也比較簡單。 如果您是遊戲的初學者，2D 遊戲是很好的起點，而且 2D 圖形開發也是適合您學習處理 DirectX 的好方法。

您可以使用 Direct2D 或 Direct3D 或將兩者組合，在 DirectX 中開發 2D 遊戲圖形。 2D 遊戲開發中許多較為實用的類別是在 Direct3D 中，如 [**Sprite**](https://msdn.microsoft.com/library/windows/desktop/bb205601) 類別。 Direct2D 是一組 API，主要針對需要支援繪圖基本類型 (例如圓形、線條和平面多邊形等) 的使用者介面和應用程式。 雖然如此，它仍然提供一組強大和高效能的類別和方法，可用來建立遊戲圖形，特別是建立遊戲重疊、介面以及抬頭顯示器 (HUD)，或是用來建立從簡單到適度詳細的各種 2D 遊戲。 不過，建立 2D 遊戲最有效的方式，是使用這兩種類別庫中的元素，而這就是我們在這個主題中開發 2D 圖形的方式。

## <a name="concepts-at-a-glance"></a>概念簡介


在現代 3D 圖形和支援這種圖形的硬體出現之前，遊戲主要都是 2D 的，而且它們的許多圖形技術都牽涉到移動記憶體區塊，通常是色彩資料陣列，以 1:1 的比例轉譯或轉換為螢幕上的像素。

在 DirectX 中，2D 圖形是 3D 管線的一部分。 現在有更多種螢幕解析度和圖形硬體，而且您的 2D 圖形引擎必須能夠加以支援但對逼真度不會有顯著改變。

這裡是您開始進行 2D 圖形開發時必須熟悉的一些基本概念。

-   像素和光柵座標。 像素是光柵顯示器上的單個點，而且具有自己的 (x, y) 座標組，指示它在顯示器上的位置 (「像素」這個詞是個互通名詞，它可以用來指組成顯示器的實際像素，或者是指傳送到顯示器前先存放在可定址記憶體元素中像素的色彩和 Alpha 值)。光柵被 API 視為像素元件的矩形格線，通常與顯示器上實際像素格線具有 1:1 的對應比例。 光柵座標系統從左上方開始，格線最左上角的像素為 (0, 0)。
-   點陣圖圖形 (有時候也稱為光柵圖形) 是圖形元素，以矩形格線的像素值來表示。 子畫面技術是獨立於光柵以外管理的計算處理像素陣列，它是點陣圖圖形的其中一種，常用於遊戲中的主要角色或與背景無關的動畫物件。 子畫面技術的動畫的各種畫面是以稱為「表」或「批次」的點陣圖集合表示的。 背景是較大的點陣圖物件，與螢幕光柵具有相同或更高的解析度，通常是作為遊戲區域的底圖。
-   向量圖形是使用幾何基本類型 (如點、線、圓形和多邊形) 來定義 2D 物件。 它們不是用像素陣列來表示的，而是使用算術等式在 2D 空間中定義。 它們與顯示器的像素格線不一定具有 1:1 的對應比例，而且必須從轉譯它們的座標系統轉換為顯示器上的光柵座標系統。
-   轉譯是使用一點或一個頂點，然後計算它在相同座標系統上的新位置。
-   縮放是使用指定的縮放比率來放大或縮小物件。 對於向量影像，您可縮小和放大它的元件頂點；對於點陣圖，您可放大或縮小像素元素。 對於點陣圖影像，您在縮小影像時會遺失像素資料，而影像縮放得較接近時會放大個別像素。 對於後者，您可以使用像素色彩內插補點操作 (就像雙線性篩選)，將放大的像素之間的粗糙色彩邊緣變得平滑。
-   旋轉是以指定的軸來旋轉物件。 對於向量影像，幾何的頂點會對照旋轉矩陣來相乘，取得旋轉的頂點；對於點陣圖影像，則可以使用不同的演算法，每種方式的結果分別是較差或較好的逼真度。 對於縮放和轉譯，有專用於旋轉作業的 API。
-   轉換是使用一個座標系統上的一點或一個頂點，然後計算它在另一個座標系統上的對應點或對應頂點。 這包含轉譯、縮放以及旋轉，還有其他座標計算作業。
-   裁剪是將點陣圖或幾何沒有在顯示器上可檢視區域內的部分移除，或是將被具有更高檢視優先權的物件所隱藏的部分移除。
-   框架緩衝區是記憶體中的區域，通常位於圖形硬體本身的記憶體中，它包含將要繪製到螢幕上的最後光柵對應。 交換鏈結是緩衝區的集合，您在背景緩衝區繪製而且當影像繪製好時，就把它「交換」到前面來顯示。

## <a name="design-considerations"></a>設計考量


2D 圖形開發是熟悉使用 Direct3D 進行開發的絕佳方式，而且可讓您將更多時間投入遊戲開發中的其他重要部分：音訊、控制項以及遊戲機制。

永遠繪製到背景緩衝區。 直接繪製到您的框架緩衝區，表示在接收到顯示訊號時 (通常是每 1/60 秒)，即使您的繪圖作業還沒有完成，還是會顯示影像！

設計您的圖形引擎來支援不錯的解析度選項，從 1024x600 到 1920x1080 (或更高)。 如果您支援其 LCD 監視器原始的解析度 (特別是使用 2D 圖形)，您的玩家們一定對您充滿感激。

出色的作品變成視覺化呈現時，是您最大的資產。 雖然您的點陣圖圖形在使用最新的著色器模型功能時不一定具有 3D 照相寫實視覺效果的震撼力，但是絕佳的高解析度作品，通常能夠表達更多風格和個性，而且不會耗用太多效能。

## <a name="reference"></a>參考資料


-   [Direct2D 概觀](https://msdn.microsoft.com/library/windows/desktop/dd370987)
-   [Direct2D 快速入門](https://msdn.microsoft.com/library/windows/desktop/dd535473)
-   [Direct2D 和 Direct3D 互通性概觀](https://msdn.microsoft.com/library/windows/desktop/dd370966)
