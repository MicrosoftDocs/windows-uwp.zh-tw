---
title: 使用者活動最佳做法
description: 本文將概述建立和更新使用者活動的建議的做法。
keywords: user activity, user activities, timeline, cortana pick up where you left off, cortana pick up where i left off, project rome, 使用者活動, 時間軸, cortana 從先前離開的地方開始, cortana 接續未完成的部分, project rome
ms.date: 08/23/2018
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 33103ebfc7ee3e26a11de781af7981bce78b349c
ms.sourcegitcommit: b5c9c18e70625ab770946b8243f3465ee1013184
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/28/2018
ms.locfileid: "7980458"
---
# <a name="user-activities-best-practices"></a>使用者活動最佳做法

本文將概述建立和更新使用者活動的建議的做法。 如需在 Windows 上的使用者活動功能的概觀，請參閱[繼續使用者活動，甚至跨裝置](https://docs.microsoft.com/windows/uwp/launch-resume/useractivities)。 或者，如活動的實作，其他開發平台上，請參閱 Project rome[使用者活動一節](https://docs.microsoft.com/windows/project-rome/user-activities/)。

## <a name="when-to-create-or-update-user-activities"></a>建立或更新使用者活動的時機

每個應用程式是不同的因為它是每個開發人員來判斷對應到使用者活動的應用程式內的動作的最佳方式。 將會在 Cortana 與時間軸，會將焦點放在增加使用者的生產力和效率藉由協助他們回到他們在過去瀏覽的內容以展示您的使用者活動的功能。

**一般指導方針**

* **記錄單一群組相關的使用者動作的活動。** 這是尤其相關的音樂播放清單或電視節目： 單一活動可更新以反映使用者的進度的固定間隔。 在此情況下，您會有單一使用者活動與跨多個天或星期代表一段很佔用的多個歷程記錄項目。 同樣適用於上的使用者可讓您的應用程式內的漸進式進度的文件型活動。
* **在雲端中儲存使用者資料。** 如果您想要支援跨裝置的活動，您將需要以確定不斷此活動所需的內容會儲存到雲端位置。 裝置特定的活動會顯示在時間軸上的裝置上活動建立的位置，但可能不會出現在其他裝置上。
* **不要建立活動的使用者不需要繼續執行的動作。** 如果您的應用程式用來完成簡單、 一次性無法保存狀態的作業，可能不需要建立使用者活動。
* **不要建立活動由其他使用者完成的動作。** 如果外部帳戶使用者傳送訊息或@-mentions它們內您的應用程式，您應該不會建立活動針對這點。 這種類型的動作是更好的服務的重要訊息中心通知。
  * 共同作業的案例是一個例外狀況： 如果多個使用者正在處理相同的活動 （例如 Word 文件） 在一起，將會在其中另一位使用者已在您的使用者之後進行變更的情況。 在此情況下，您可能會想要更新現有的活動，以反映在文件所做的變更。 這牽涉到更新現有的使用者活動內容的資料，而不需建立新的歷程記錄項目。

**針對特定類型的應用程式的指導方針**

雖然每個應用程式是不同，大部分的應用程式會落在其中一個下列互動模式。
* **文件型的應用程式**-使用一或多個歷程記錄項目，反映的使用期間建立的文件，每一個活動。 請務必更新您的活動，隨著文件的變更。
* **遊戲**— 建立一個針對每個遊戲儲存或世界的活動。 如果您的遊戲支援層級的單一順序，您可以重新發佈相同活動隨著時間，雖然您可能想要更新內容的資料，以顯示最新的進度或成就。
* **公用應用程式**— 如果有使用者需要保留和繼續執行您應用程式內的任何項目，您不需要使用使用者活動。 良好的範例是簡單的應用程式，例如 [小算盤]。
* **特定業務的應用程式**— 許多應用程式存在用於管理簡單的工作流程。 建立一個每個個別工作流程可透過您的應用程式存取活動 （例如，費用回報會將每一個個別的活動，以便使用者可以按一下的活動，以查看是否已核准的特定報告）。
* **媒體播放 app** — 建立一個活動，每個邏輯群組的內容 （例如播放清單、 程式或獨立的內容）。 適用於應用程式開發人員的基礎問題是是否內容 （電視影集、 歌曲） 的每個部分算是獨立內容或集合的一部分。 一般而言，如果使用者選擇從播放集合或循序的內容，當做一個整體集合會是活動。 如果他們選擇播放內容的單一部分，該內容的一個部分是活動。 請參閱下列更具體的指導方針。
  * **音樂： 內容類型專輯/演出者**— 如果使用者選取專輯、 演出者或內容類型，並碰到**播放**，該集合是活動;不要寫入歌曲每個個別的活動。 對於簡短的集合，例如單一專輯或正在播放以隨機順序的集合，您可能不需要更新以反映使用者的目前位置的活動。 例如專輯或播放清單的長時間連續播放，錄製您相簿內的位置可能會有意義。
  * **音樂： 智慧播放清單**— 以隨機順序播放音樂的應用程式應記錄該播放清單的單一活動。 如果使用者在第二次播放播放清單，您會建立額外的歷程記錄的相同的活動。 錄製使用者的目前位置播放清單中不需要因為隨機順序。
  * **電視系列**— 如果您的應用程式已設定為播放下一步影集目前的完成之後，您應撰寫的電視一系列的單一活動。 為您播放各種劇集跨多個檢視工作階段時，您將會更新以反映目前的位置系列，在您的活動，並將建立多個歷程記錄。
  * **影片**— 影片是單一的內容，應該會有它自己的歷程記錄。 如果使用者停止觀賞影片一部分-怎麼辦，它會記錄其位置。 當他們想要在未來繼續執行時，無法繼續留下關閉，影片的活動，或甚至是要求使用者是否想要繼續，或是在開頭開始。

## <a name="user-activity-design"></a>使用者活動設計

使用者活動由三個元件組成： 啟動 URI、 視覺資料，以及內容的中繼資料。
* 啟用 URI 是 URI，可在傳送至應用程式或經驗才能繼續應用程式特定的內容。 一般而言，這些連結的形式的配置 (例如，「 my-app: //page2 」) 的通訊協定處理常式。 是由開發人員來判斷其應用程式如何處理 URI 參數。 如需詳細資訊，請參閱[處理 URI 啟用](https://docs.microsoft.com/windows/uwp/launch-resume/handle-uri-activation)。
* 視覺化的資料，其中包含一組的必要與選擇性屬性 (例如： 標題、 描述或調適型卡片元素)，讓使用者能夠在視覺上識別活動。 如需有關建立您的活動的調適型卡片視覺效果的指導方針，請參閱下方。
* 內容的中繼資料可用於群組與擷取特定內容下的活動的 JSON 資料。 通常，這會帶形式的http://schema.org資料。 如需填寫此資料的指導方針，請參閱下方。

### <a name="adaptive-card-design-guidelines"></a>調適型卡片設計指導方針

當活動顯示在時間軸中時，它們會顯示使用[調適型卡片架構](https://docs.microsoft.com/adaptive-cards/)。 如果開發人員不會為每個活動提供調適型卡片，時間軸會自動建立簡單的卡片根據應用程式名稱/圖示、 必要的標題欄位，以及選用的描述欄位。 

應用程式開發人員都來提供自訂的卡片使用簡單的調適型卡片 JSON 結構描述。 請參閱有關如何建構調適型卡片物件的技術指示的[調適型卡片文件](https://docs.microsoft.com/adaptive-cards/authoring-cards/getting-started)。 請參閱下方設計指導方針中使用者活動的調適型卡片。
* 使用映像
  * 如果可能的話為每個活動，使用唯一的映像。 您的應用程式名稱和圖示將會自動顯示在您的活動卡; 旁邊額外的影像將會協助找出他們正在尋找的活動的使用者。
  * 影像不應包含文字使用者預期讀取。 此文字無法提供給使用者與協助工具需求，並無法搜尋。
  * 如果影像不會包含文字，而且可以裁剪成有關 2:1 的比例，您應該將它用作背景影像。 這會導致粗體活動卡這將會更為突出，時間軸中。 影像會被調暗稍微以確保保持可見卡上的文字，也鼓勵您只能使用活動名稱在此情況下，較小的文字可以得難以閱讀。
  * 如果無法為 2:1 裁剪影像，您應該將它放內的活動卡。  
    * 如果外觀比例的方形或直向，錨定無邊界卡右側影像。
    * 如果外觀比例橫向，錨定至智慧卡的右上角的影像。
* 每個活動，才能提供活動的名稱，就應該一律會顯示。
  * 此名稱應該顯示卡使用大型粗體文字選項的左上角。 它是很重要的名稱容易辨識，因為這是唯一一部分的使用者將會看到當活動顯示在 Cortana 案例。 顯示時間軸中的相同的名稱，可讓您在讓使用者比較容易瀏覽大量的活動。
* 使用相同的視覺樣式所有的活動，從您的應用程式，讓使用者可以輕鬆地尋找您的應用程式的活動，時間軸中。
  * 例如，活動應該全部使用相同的背景色彩。
* 謹慎使用補充文字資訊。 
  * 避免文字，以填滿智慧卡，並只使用補充資訊可協助使用者尋找正確的活動或反映狀態資訊 （例如特定的工作中目前的進度）。

### <a name="content-metadata-guidelines"></a>內容的中繼資料的指導方針

使用者活動也可以包含 Windows 和 Cortana 使用分類的活動，並產生推斷的內容中繼資料。 活動，然後圍繞特定主題，例如位置 （如果使用者研究假期）、 （如果使用者研究的項目） 的物件或動作分組，（如果使用者在不同的應用程式和網站購物特定產品）。 它是不錯的想法代表參與活動的動詞和名詞應大寫。 

在下列範例中，內容的中繼資料 JSON，遵循標準的[Schema.org](https://schema.org/)，代表案例: 「 John 會播放生氣放與 Steve 」。

```json
// John played angry birds with Steve.
{
  "@context": "http://schema.org",
  "@type": "PlayAction",
  "agent": {
    "@type": "Person",
    "name": "John"
  },
  "object": {
    "@type": "MobileApplication",
    "name": "Angry Birds."
  },
  "participant": {
    "@type": "Person",
    "name": "Steve"
  }
}
```

## <a name="key-apis"></a>重要 API

* [Useractivity 命名空間](https://docs.microsoft.com/uwp/api/windows.applicationmodel.useractivities)

## <a name="related-topics"></a>相關主題

* [使用者活動 （專案 Rome 文件）](https://docs.microsoft.com/windows/project-rome/user-activities/)
* [調適型卡片](https://docs.microsoft.com/adaptive-cards/)
* [調適型卡片視覺化工具範例](http://adaptivecards.io/)
* [處理 URI 啟用](https://docs.microsoft.com/windows/uwp/launch-resume/handle-uri-activation)
* [使用 Microsoft Graph、活動摘要及調適型卡片在任何平台上與您的客戶互動](https://channel9.msdn.com/Events/Connect/2017/B111)
* [Microsoft Graph](https://developer.microsoft.com/graph/)
