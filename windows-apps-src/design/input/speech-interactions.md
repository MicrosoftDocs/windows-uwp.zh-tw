---
Description: 使用 Cortana 語音命令、語音辨識以及語音合成，將語音加入您的應用程式。
title: 語音互動
ms.assetid: 646DB3CE-FA81-4727-8C21-936C81079439
label: Speech interactions
template: detail.hbs
keywords: speech, voice, speech recognition, natural language, dictation, input, user interaction, 語音, 聲音, 語音辨識, 自然語言, 聽寫, 輸入, 使用者互動
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 94a93f9b1506d2b4dfcdad260bf86bf39c15d875
ms.sourcegitcommit: 7b2febddb3e8a17c9ab158abcdd2a59ce126661c
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/31/2020
ms.locfileid: "89173342"
---
# <a name="speech-interactions"></a>語音互動

將語音辨識和文字轉換語音 (也稱為 TTS，或語音合成) 直接整合到應用程式的使用者體驗。

**語音辨識**：語音辨識會將使用者所說的字詞轉換成文字以進行表單輸入、文字聽寫、指定動作或命令，以及完成工作。 支援預先定義的任意文字口述與網頁搜尋文法，以及使用語音辨識文法規格 (SRGS) 版本 1.0 編寫的自訂文法。

**TTS**：TTS 使用語音合成引擎 (語音) 以轉換文字字串為口說字詞。 輸入的字串可以是基本、原始的文字，或是更加複雜的語音合成標記語言 (SSML)。 SSML 提供一個控制語音輸出特性 (例如發音、音量、音調、速率或速度，以及重音) 的標準方式。

**其他語音相關元件：** 
Windows 應用程式中的**Cortana**會使用自訂語音命令 (說出或輸入) ，以將您的應用程式啟動到前景 (應用程式取得焦點，就像是從 [開始] 功能表啟動一樣，或以背景服務的形式啟動應用程式) **Cortana**會保留焦點，但會從應用程式 (提供結果。 如果您要在 **Cortana** UI 中公開應用程式功能，請參閱 [Cortana 語音命令 (VCD) 指導方針](/cortana/voice-commands/vcd)。

## <a name="speech-interaction-design"></a>語音互動設計

經過親切體貼地設計和實作，語音可以成為使用者與您的 app 互動之可靠又有趣的方式，可補充或甚至取代鍵盤、滑鼠、觸控和手勢。

這些指導方針和建議說明如何將語音辨識和 TTS 最佳地整合到您應用程式的互動體驗中。

如果您考慮在應用程式中支援語音互動：

-   可以透過語音採取哪些動作？ 使用者是否可以在頁面間瀏覽、叫用命令，或輸入文字欄位資料、簡單的筆記，或較長的訊息？
-   語音輸入是完成工作的好選項嗎？
-   使用者如何知道什麼時候可以使用語音輸入？
-   應用程式是否永遠都在等待聽取語音，或使用者需要採取才能讓應用程式進入聽取語音模式？
-   哪些片語會起始動作或行為？ 片語和動作必須列舉在螢幕上嗎？
-   提示、確認和去除混淆畫面或 TTS 是必要的嗎？
-   應用程式和使用者間的互動對話方塊是什麼？
-   應用程式內容是否是需要自訂或限制的詞彙 (例如醫藥、科學，或區域)？
-   是否需要網路連線？

## <a name="text-input"></a>文字輸入

文字輸入的語音的範圍可從簡短格式 (單一字詞或片語) 到長格式 (連續聽寫)。 簡短格式輸入的時間長度必須小於 10 秒，而長格式輸入工作階段的時間長度最長可到兩分鐘。 (較長形式的輸入不需使用者操作即可重新啟動，以提供不間斷的連續聽寫印象。)

您應該提供視覺提示，以指示使用者語音辨識已經支援且可供使用，以及使用者是否需要將它開啟。 例如，含有麥克風字符的命令列按鈕 (請參閱[命令列](../controls-and-patterns/app-bars.md)) 可用來同時顯示可用性和狀態。

辨識正在執行時，提供進行中的辨識回應以減少任何明顯的回應性不足。

讓使用者使用鍵盤輸入、去除混淆提示、建議、或額外的語音辨識來修正辨識文字。

若偵測到語音辨識以外的裝置輸入 (例如觸控板或鍵盤)，請停止辨識。 這可能表示使用者已移動到另一個工作，例如修正辨識文字，或與其他表單欄位的互動。

指定某些無語音輸入的時間長度，以指示辨識已經結束。 在這一段期間之後請不要自動重新啟動辨識，因為這通常表示使用者已停止使用應用程式。

如果沒有可用的網路連線，請停用所有的連續辨識 UI 並終止辨識工作階段。 連續辨識需要網路連接。

## <a name="commanding"></a>命令

語音輸入可以起始動作、叫用命令，以及完成工作。

如果空間允許，請考慮顯示目前應用程式內容支援的回應，並提供有效輸入的範例。 這樣可以減少應用程式需要處理的可能回應，也避免使用者混淆。

請嘗試限制您的問題，讓它們引導出最準確的回應。 例如，「您今天想做些什麼？」 是非常開放性的問題，而且由於有多種可能不同的回應，需要相當大量的文法辨識。 或者，「您想要玩遊戲或聽音樂嗎？」 將回應限制為二選一的答案，並使用相對應的精簡文法辨識。 精簡的文法更易於編寫，並產生更加準確的辨識結果。

當語音辨識可信度較低時，請要求使用者進行確認。 如果使用者的意圖不清楚，先取得釐清會比初始化非使用者意圖的動作來得好。

您應該提供視覺提示，以指示使用者語音辨識已經支援且可供使用，以及使用者是否需要將它開啟。 例如，含有麥克風字符的命令列按鈕 (請參閱[命令列的指導方針](../controls-and-patterns/app-bars.md)) 可用來同時顯示可用性和狀態。

如果語音辨識切換通常會滑出檢視，請考慮在應用程式的內容區域顯示狀態指示。

如果辨識是由使用者起始，請考慮使用內建辨識體驗以維持一致性。 內建的體驗包括含有提示、範例、去除混淆、確認和錯誤的可自訂畫面。

畫面因指定的限制而有所不同：

-   預先定義的文法 (聽寫或網頁搜尋)

    -   **接聽**畫面。
    -   **思考**畫面。
    -   **您說**的是畫面或錯誤畫面。
-   字詞或片語的清單或 SRGS 文法檔案

    -   **接聽**畫面。
    -   **您說**的是，如果使用者所說的內容可以解讀為一個以上的可能結果，
    -   **您說**的是畫面或錯誤畫面。

在 **接聽** 畫面上，您可以：

-   自訂標頭文字
-   提供使用者可以說出的範例文字。
-   指定是否顯示 **您說** 的畫面。
-   在 **您說出** 的畫面上，將已辨識的字串讀回使用者。

以下是使用 SRGS 定義限制之語音辨識器的內建辨識流程範例。 在這個範例中，語音辨識是成功的。

![以 SGRS 文法檔為基礎之限制的初始辨識畫面](images/speech/speech-listening-initial.png)

![以 SGRS 文法檔為基礎之限制的中繼辨識畫面](images/speech/speech-listening-intermediate.png)

![以 SGRS 文法檔為基礎之限制的最終辨識畫面](images/speech/speech-listening-complete.png)

## <a name="always-listening"></a>一律聆聽

App 在啟動之後即可聆聽並辨識語音輸入，不需要使用者操作。

您應基於應用程式內容，自訂文法限制。 這可維持語音辨識體驗非常明確且相關於目前的工作，並減少錯誤。

## <a name="what-can-i-say"></a>「我可以說什麼？」

啟用語音輸入時，協助使用者探索可了解的項目和可執行的動作是非常重要的。

如果語音辨識是使用者可啟用的，請考慮使用命令列或功能表命令，在目前的內容中顯示所有的字詞和片語。

如果語音辨識是一律開啟，請考慮將片語 「我可以說什麼？」增加 到每個頁面上。 當使用者說出這個片語，在目前的內容中顯示所有支援的字詞和片語。 使用此片語提供使用者一致性的方式來探索整個系統的語音功能。

## <a name="recognition-failures"></a>辨識失敗

語音辨識會失敗。 當音訊品質不佳、僅辨識出部分片語，或完全沒有偵測的輸入，就會發生失敗。

順暢地處理失敗，協助使用者了解辨識失敗的原因並復原。

您的應用程式應通知使用者他們沒有被了解，且需要重試。

請考慮提供一或多個支援的片語範例。 使用者可能會重複建議的片語，這樣會增加辨識的成功率。

您應該顯示可能相符的清單，提供使用者選取。 這樣會比重新進行辨識程序來得更有效率。

您應一律支援替代輸入類型，這在處理重複的辨識失敗時非常有用。 例如，您可以建議使用者嘗試使用鍵盤，或使用觸控或滑鼠以從可能相符的清單選取。

使用內建語音辨識體驗，因為它含有通知使用者辨識失敗的畫面，並讓使用者可以進行其他的辨識嘗試。

聆聽音訊輸入並嘗試修正問題。 語音辨識器可以偵測到可能會影響語音辨識正確性的音訊品質問題。 您可以使用語音辨識器提供的資訊來告知使用者問題，讓他們採取修正動作 (如果可能的話)。 例如，如果麥克風的音量設定太低，您可以提示使用者提高說話音量或麥克風音量。

## <a name="constraints"></a>條件約束

限制式或文法定義可與語音辨識器相符的口說字詞和片語。 您可以指定一個預先定義的 Web 服務文法，或者您可以建立自訂文法與您的 app 一起安裝。

### <a name="predefined-grammars"></a>預先定義的文法

預先定義的聽寫和網頁搜尋文法可為您的應用程式提供語音辨識，而不需要您編寫文法。 使用這些文法時，語音辨識是由遠端 Web 服務執行，結果會傳回裝置。

-   預設的任意文字聽寫文法可以辨識使用者可以特定語言說出的大部分字詞與片語，並且已最佳化而能夠辨識簡短的片語。 當您不想限制使用者可以說出的內容時，任意文字聽寫便很實用。 典型的用法包括建立記事或聽寫訊息內容。
-   網頁搜尋文法類似聽寫文法，包含大量使用者可能說出的字詞與片語。 不過，已將它最佳化，可辨識使用者在搜尋 Web 時常用的詞彙。

> [!NOTE]
> 由於預先定義的聽寫和網頁搜尋文法可能相當龐大，且因為是在線上 (並非在裝置上)，因此，效能可能不及安裝在裝置上的自訂文法快速。

這些預先定義的文法可用來辨識最多 10 秒鐘的語音輸入，而您不需要花費任何編寫的精力。 然而，它們需要連線到網路。

### <a name="custom-grammars"></a>自訂文法

自訂文法是由您設計及編寫，並隨著應用程式安裝。 使用自訂限制式的語音辨識是在裝置上執行的。

-   程式設計的清單限制式提供使用字詞或片語清單來建立簡易文法的輕量型方法。 清單限制式非常適合用來辨識簡短的明確片語。 明確指定所有符合文法的文字也可以提高辨識準確度，因為語音辨識引擎只需處理確認相符的語音。 清單也可透過程式設計方式更新。
-   SRGS 文法是一個靜態文件，與程式設計清單限制式不同，使用 [SRGS 版本 1.0](https://www.w3.org/TR/speech-grammar/) 所定義的 XML 格式來編輯該文件。 SRGS 文法透過讓您在單一辨識中擷取多個語意意義，提供控制整個語音辨識的最佳體驗。

    以下是一些編寫 SRGS 文法的祕訣：

    -   讓每個文法精簡。 包含較少的片語的文法通常會比包含許多片語的較大文法提供更準確的辨識。 針對特定案例設定數個較小的文法是較好的作法，而不是為整個應用程式設定單一文法。
    -   讓使用者了解對於每個應用程式內容要說的項目，並視需要啟用和停用文法。
    -   設計各種文法，讓使用者可以以不同的方式說出命令。 例如，您可以使用 **GARBAGE** 規則來比對文法未定義的語音輸入。 這可以讓使用者說出在 app 中沒有意義的其他字詞。 例如，「給我」、「和」、「呃」、「或許」等等。
    -   嘗試使用 [sapi:subset](/previous-versions/office/developer/speech-technologies/jj572474(v=office.14)) 元素來協助比對語音輸入。 這是對 SRGS 規格的 Microsoft 擴充，協助比對部分片語。
    -   盡量避免在文法中定義只包含一個音節的片語。 包含兩個或多個音節的片語可以更正確地辨識。
    -   避免使用聽起來相似的片語。 例如，"hello"、"bellow"，和 "fellow" 之類的片語可能混淆辨識引擎，導致不佳的辨識準確度。

> [!NOTE]
> 要使用哪種類型的限制式，取決於您想建立的辨識體驗的複雜度。 任一種都可能是特定辨識工作的最佳選擇，您也許會找到所有限制類型在應用程式中的用途。

### <a name="custom-pronunciations"></a>自訂發音

如果您的應用程式包含專門詞彙使用生僻、虛構或特殊發音的單字，則可定義自訂發音以改進這些單字的辨識效能。

對於小型的字詞和片語清單，或不常使用的字詞和片語清單，您可以在 SRGS 文法中建立自訂發音。 如需詳細資訊，請參閱 [token 元素](/previous-versions/office/developer/speech-technologies/hh361600(v=office.14))。

對於較大的字詞和片語，或經常使用的字詞和片語清單，您可以另外建立發音字典文件。 如需詳細資訊，請參閱[關於字典和語音字母](/previous-versions/office/developer/speech-technologies/hh361646(v=office.14))。

## <a name="testing"></a>測試

測試您 app 目標對象的語音辨識準確度和任何支援的 UI。 這是判斷應用程式中語音互動體驗有效性的絕佳方式。 例如，使用者取得糟糕的辨識結果，是因為應用程式沒有聆聽通用片語嗎？

修改文法以支援此片語，或提供使用者支援的片語清單。 如果您已經提供支援的片語清單，確保它很容易可探索到。

## <a name="text-to-speech-tts"></a>文字轉換語音 (TTS)

TTS 從純文字或 SSML 產生語音輸出。

嘗試設計禮貌和鼓勵語氣的提示。

請考慮是否讀出長字串的文字。 聆聽文字訊息是一回事，但聆聽又長且又難以記得的搜尋結果清單又是一回事。

您應該提供媒體控制項，讓使用者暫停 (或停止) TTS。

您應聆聽所有的 TTS 字串，確保它們是可以理解而且聽起來很自然。

-   將字詞或說話部分的數字或標點符號以不常用的順序串連，可能會導致片語變得無法理解。
-   當語調或抑揚頓挫不同於母語使用者說出片語的方式，語音聽起來可能會不自然。

這兩個問題都可使用 SSML （而非純文字）作為語音合成器的輸入來解決。 如需有關 SSML 的詳細資訊，請參閱[使用 SSML 控制合成語音](/previous-versions/office/developer/speech-technologies/hh378454(v=office.14))和[語音合成標記語言參考](/previous-versions/office/developer/speech-technologies/hh378377(v=office.14))。

## <a name="other-articles-in-this-section"></a>本節中的其他文章 

| 主題 | 說明 |
| --- | --- |
| [語音辨識](speech-recognition.md) | 使用語音辨識以提供輸入、指定動作或命令，以及完成工作。 |
| [指定語音辨識器語言](specify-the-speech-recognizer-language.md) | 了解如何選取已安裝的語言以用於語音辨識。 |
| [定義自訂辨識限制式](define-custom-recognition-constraints.md) | 了解如何定義及使用自訂限制式來進行語音辨識。 |
| [啟用連續聽寫](enable-continuous-dictation.md) |了解如何擷取及辨識較長且連續的聽寫語音輸入。 |
| [管理音訊輸入的問題](manage-issues-with-audio-input.md) | 了解如何管理因為音訊輸入品質而造成的語音辨識準確度問題。 |
| [設定語音辨識逾時](set-speech-recognition-timeouts.md) | 設定語音辨識器忽略靜音或無法辨識的聲音 (Babble) 並繼續聆聽語音輸入的時間長度。 |

## <a name="related-articles"></a>相關文章

* [語音互動]()
* [Cortana 互動](./cortana-interactions.md)

 **範例**

* [語音辨識和語音合成範例](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/SpeechRecognitionAndSynthesis)
 

 